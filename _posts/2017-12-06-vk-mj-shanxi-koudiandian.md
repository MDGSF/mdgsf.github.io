---
layout: post
title:  "[vk_mj] 山西扣点点"
date:   2017-12-06
comments: true
categories: vk_mj
tags: mj
description:
published: true
---


## 玩法种类

1. 常规玩法：136张，万、筒、条1-9各4张，字牌东、南、西、北、中、发、白各4张。
2. 风耗子：136张，万、筒、条1-9各4张，字牌东、南、西、北、中、发、白各4张。
3. 不带风：108张，万、筒、条1-9各4张。


## 基本规则

**点数**

每张牌都有一个对应的点数

1-9的万、条、筒对应1-9点，字牌为10点。

**吃碰杠**

可以碰、杠，不可以吃。

**庄家**

第一局随机选庄。赢家坐庄。荒庄后庄家不变。

**漏碰**

可以碰牌的时候不碰，则在自己摸牌前不可以再碰这张牌。

但是对其他牌没有影响，如果漏碰了3万，那么对4万是不会有影响的。

**杠牌**

明杠：分为摸杠和点杠。

摸杠：先碰，后杠。

点杠：手上有3张一样的牌，其他玩家打出一样牌，选择开杠。

暗杠：手上有4张一样的牌，选择开杠，为暗杠。

抢杠：被抢杠胡算点炮，抢杠只能抢自摸明杠，被抢的杠就不再是杠。

杠上花：杠后补的牌刚好是自己要胡的那张牌，算自摸。

**听牌**

听牌的时候，听的牌中，至少要有一张牌是大于等于6点。

听牌后不能换牌。

听牌时打出去的这张牌不显示牌面，此牌也不可以被其他玩家碰杠胡。

听牌后自动摸打。

**听牌后杠牌**

听牌后仍然可以杠牌，即使杠后听的牌改变了也没有关系，只要杠后听的牌中至少有一张是大于等于6点就行。

1. 444、78、22，杠4不影响听69，听牌后可以选择杠
2. 7778，听689，杠7后改变了听口，但听口大于等于6可以杠
3. 4445，听356，杠4后改变了听口，但听口小于6，不可以杠
4. 33345、78，杠3后不能听牌，听牌后不可以杠


**胡牌规则**

1、一局只能有一位胡牌者，如果点炮的时候有多家可胡，则逆时针方向离点炮者最近的优先胡牌。

2、牌的点数为1、2的不能胡牌，点数为3、4、5的只能自摸，点数为6、7、8、9、10的可以接炮胡和自摸胡。

例：

1. 4445，听356，报听后35只能自摸胡，6可以接炮胡和自摸胡
2. 1112345678999，听123456789，报听后12不能胡，345可以自摸胡，6789可以接炮胡和自摸胡
3. 听11、66，只可胡6


**牌型**

1. 平胡: 1分

2. 七对: 2分

3. 豪华七对: 4分

4. 清一色: 2分

5. 一条龙: 2分

6. 十三幺: 2分

### 算分规则

胡牌点数：胡的那张牌的点数。

总分= 胡分 + 杠分

胡牌得分 = (胡牌点数 + 庄闲(庄5、闲0)) x 胡牌方式(接炮胡1，自摸2) x 牌型分

如果同时满足多个牌型，算分时只取其中分数最大的那个，但是界面上需要显示多个牌型。


胡牌算分

未听牌者点炮：只有点炮者输分

赢家得分 = (公式) x (人数 - 1)
输家1得分 = - (公式) x (人数 - 1)
输家2得分 = 0
输家3得分 = 0

听牌者点炮：3家都要输分

赢家得分 = (公式) + (公式) +(公式)
输家1得分 = -(公式)
输家2得分 = -(公式)
输家3得分 = -(公式)

自摸胡牌：3家都要输分

赢家得分 = (公式) + (公式) +(公式)
输家1得分 = -(公式)
输家2得分 = -(公式)
输家3得分 = -(公式)


杠牌算分

摸杠： 9 + 9 + 9,  赢27分，3家输分，每家输9分。

点杠：

未听牌者: 9x3=27，赢27分，1家输分，输27分。

听牌者: 9 + 9 + 9, 赢27分，3家输分，每家输9分。

暗杠: 9x2 + 9x2 + 9x2, 赢54分，3家输分，每家输18分。

因为暗杠的分数要翻倍。


### 总结算

每个玩家都需要统计

自摸次数：统计自摸的次数

接炮次数：统计接炮胡和抢杠胡的次数

点炮次数：统计点炮和被抢杠胡的次数

暗杠次数：统计暗杠次数

明杠次数：统计明杠次数



## 补充

字牌只能是刻子。

## 设置选择项


### 支付

1. 房主支付
2. AA支付

### 局数

1. 4局
2. 8局
3. 12局

### 人数

1. 3人
2. 4人

### 玩法

1. 常规玩法
2. 风耗子: 包含常规玩法的所有玩法。
3. 不带风

### 带庄

1. 开启:庄家带有基础分5分（基础分）。
2. 关闭:庄家输赢跟其他玩家一样。

### 留七墩

1. 开启:剩最后14张时，如果没有人胡则牌局结束。
2. 关闭:摸完所有牌，如果摸完所有牌，没有人胡则牌局结束。

### 荒庄不荒杠

1. 开启: 荒庄的时候，继续计算杠分。
2. 关闭: 荒庄的时候，不计算杠分。

总分 = 胡牌分 + 杠分

### 七对、豪七对

1. 开启:七对x2，豪七对x4
2. 关闭

### 一条龙

1. 开启:一条龙x2
2. 关闭

### 清一色

1. 开启:清一色x2
2. 关闭

### 十三幺

1. 开启:十三幺x2
2. 关闭


